<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Xtremo-Devo Lab | Andrew Thompson</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description"
        content="Xtremo-Devo Lab — Andrew (Drew) Thompson. We study development and evolution in extreme environments, with a focus on killifishes." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ===== NAVBAR ===== -->
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <span class="logo-main">Xtremo-Devo Lab</span>
        <span class="logo-sub">Andrew Thompson</span>
      </div>
      <nav class="nav">
        <a href="#hero">Home</a>
        <a href="#research">Research</a>
        <a href="#people">People</a>
        <a href="#publications">Publications</a>
        <a href="#model organisms">Model Organisms</a>
        <a href="#killifish-medaka facility">Killifish-Medaka Facility</a>
        <a href="#resources">Resources</a>
        <a href="#join">Join</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ===== HERO SECTION ===== -->
  <section id="hero" class="hero">
    <div class="container hero-grid">
      <div class="hero-text">
        <h1>Development & evolution in extreme environments.</h1>
        <p class="hero-subtitle">
          We use killifishes to uncover how organisms survive, develop, and evolve
          under extreme ecological challenges.
        </p>
        <div class="hero-actions">
          <a href="#research" class="btn primary">Explore our research</a>
          <a href="#join" class="btn secondary">Join the lab</a>
        </div>
      </div>
      <div class="hero-card">
        <h2>Current focus</h2>
        <ul>
          <li>Dormancy & diapause in killifish</li>
          <li>Eco-evo-devo in extreme habitats</li>
          <li>Functional genomics & single-cell RNA-seq</li>
        </ul>
      </div>
    </div>
  </section>

   <!-- ===== RESEARCH SECTION ===== -->
  <section id="research" class="section">
    <div class="container">
      <h2>Research</h2>
      <p class="section-intro">
        Our lab combines developmental biology, functional genetics, and genomics to understand how organisms adapt
        to extreme environments.
      </p>

      <div class="card-grid">
        <article class="card">
          <h3>Eco-Evo-Devo of Annual Killifishes</h3>
          <p>
            Killifishes are emerging research models for evolution, development, behavior, cancer, developmental 
            perturbations, and aging. This is because annual killifishes have dormant (diapausing) embryos that 
            withstand seasonal habitat desiccation which results in death of the entire parental 
            population. This annual life history includes the independent, convergent evolution of rapid aging 
            and embryonic dormancy among distantly related lineages of killifishes. We are using annual killifishes 
            and their relatives as a model clade to explore the evolution of developmental phenotypes in extreme 
            environments. We study how killifish embryos enter and exit diapause, a suspended state of development 
            that enables survival through harsh environmental conditions. Using annual and non-annual killifishes, 
            we explore how environmental gradients shape development, life history, and phenotypic plasticity.
          </p>
          <p class="tagline">Approaches: ATAC-seq, single-nucleus RNA-seq, Whole Genome Resequencing</p>
        </article>

        <article class="card">
          <h3>Developmental Genomics of Ancient Fishes</h3>
          <p>
            Most fishes, like killifishes, are decendents from a common ancestor that underwent whole genome duplication.  
            Consequently, they possess highly diverged paralogous genes that have sub- or neo functionalized.  However, 
            some slowly evolving "Living Fossil" fishes diverged before this genome duplication.  By using living fossils 
            like Bowfin (Amia calva), Spotted Gar (Lepisosteus oculatus), and lampreys, we are studying the deep homology of vertebrate 
            developmental phenotypes and the evolutionary consequences of gene and genome duplication. Importantly, the 
            slowly evolving gar and bowfin genomes can be used as stepping stones to find homologous genetic elements between 
            humans and rapidly evolving biomedical fish models like killifishes. We have published the Bowfin genome 
            published in Nature Genetics. We used Bowfin to identify the gene regulatory elements responsible for a number of 
            vertebrate developmental phenotypes. Bowfin solidifies our stepping stone comparative approach into a 
            "Holostean Bridge" using all major living holostean fish lineages (gars and bowfins) to bridge the gap between 
            humans and other fishes.
            </p>
          <p class="tagline">Approaches: ATAC-seq, Comparative Genomics, Bioinformatics</p>
        </article>
      </div>
    </div>
  </section>
  <!-- ===== PEOPLE ===== -->
  <section id="people" class="section section-alt">
    <div class="container">
      <h2>People</h2>
      <p class="section-intro">
        We are a collaborative group of students and researchers with interests spanning developmental
        biology, genomics, ecology, and evolution.
      </p>

      <div class="card-grid people-grid">
        <article class="card person-card">
          <h3>Andrew W. Thompson, Ph.D.</h3>
          <p class="person-role">Principal Investigator</p>
          <p>
            Drew is the PI of the Xtremo-Devo Lab, focusing on how development evolves in response to extreme
            environments, with the killifish model system.
          </p>
          <p class="person-contact">
            <a href="mailto:Andrew.Thompson@wmich.edu">Andrew.Thompson@wmich.edu</a>
          </p>
        </article>

        <article class="card person-card">
          <h3>Lab Member Name</h3>
          <p class="person-role">Graduate Student</p>
          <p>
            Interests include developmental genetics, single-cell analysis, and the evolution of stress
            tolerance in killifish.
          </p>
        </article>

        <article class="card person-card">
          <h3>Lab Member Name</h3>
          <p class="person-role">Undergraduate Researcher</p>
          <p>
            Assists with fish husbandry, imaging, and data collection for diapause and pearlfish projects.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== PUBLICATIONS ===== -->
  <section id="publications" class="section">
    <div class="container">
      <h2>Publications</h2>
      <p class="section-intro">
        A selection of recent work. For a full list, see CV or Google Scholar.
      </p>

      <div class="pub-list" id="pubs">
        Loading publications…
      </div>
    </div>
  </section>
  <!-- ===== MODEL ORGANISMS ===== -->
  <section id="models" class="section section-alt">
    <div class="container">
      <h2>Model organisms</h2>
      <p class="section-intro">
        We work with a comparative set of fishes that span extreme environments, deep evolutionary time,
        and diverse life histories. Here are some of our favorite model species.
      </p>

      <div class="gallery-grid">
        <!-- Nematolebias whitei -->
        <figure class="gallery-item">
          <img src="images/nematolebias-whitei.jpg" alt="Rio Pearlfish (Nematolebias whitei) adult in breeding colors">
          <figcaption>
            <h3 class="gallery-title">Rio Pearlfish (<em>Nematolebias whitei</em>)</h3>
            <p class="gallery-text">
              Our primary Eco-Evo-Devo model. An annual killifish with a bi-annual life cycle and extreme
              embryonic dormancy phenotypes.
            </p>
          </figcaption>
        </figure>

        <!-- Another annual killifish -->
        <figure class="gallery-item">
          <img src="images/annual-killifish.jpg" alt="Colorful annual killifish species in side view">
          <figcaption>
            <h3 class="gallery-title">Annual killifishes</h3>
            <p class="gallery-text">
              Independent origins of an annual life cycle across aplocheiloid killifishes allow us to study
              the repeated evolution of diapause and rapid aging.
            </p>
          </figcaption>
        </figure>

        <!-- Gar / bowfin / “living fossils” -->
        <figure class="gallery-item">
          <img src="images/bowfin-gar.jpg" alt="Bowfin and spotted gar illustrating ancient ray-finned fishes">
          <figcaption>
            <h3 class="gallery-title">Bowfin &amp; gar</h3>
            <p class="gallery-text">
              Slowly evolving holostean “living fossils” that bridge the genomic gap between humans and
              rapidly evolving teleost models.
            </p>
          </figcaption>
        </figure>

        <!-- Medaka or other -->
        <figure class="gallery-item">
          <img src="images/medaka.jpg" alt="Medaka fish in a clear aquarium">
          <figcaption>
            <h3 class="gallery-title">Medaka and other teleosts</h3>
            <p class="gallery-text">
              Complementary teleost models provide experimental access to gene function, regeneration, and
              comparative developmental genetics.
            </p>
          </figcaption>
        </figure>
      </div>
    </div>
  </section>
  <!-- ===== FACILITY ===== -->
  <section id="facility" class="section">
    <div class="container">
      <h2>Killifish &amp; medaka facility</h2>
      <p class="section-intro">
        Our custom-built aquatic facility supports experimental work on annual killifishes, medaka, and other
        small-bodied fishes. The space is designed for precise environmental control, imaging, and scalable
        experimental evolution.
      </p>

      <div class="facility-grid">
        <!-- Image column -->
        <div class="facility-gallery">
          <figure class="facility-photo">
            <img src="images/facility-room.jpg" alt="Overview of the killifish and medaka facility racks">
            <figcaption>Facility overview with stacked recirculating racks.</figcaption>
          </figure>

          <figure class="facility-photo">
            <img src="images/facility-rack.jpg" alt="Close-up of aquarium rack with multiple tanks">
            <figcaption>Individual tank racks with standardized light and flow regimes.</figcaption>
          </figure>

          <figure class="facility-photo">
            <img src="images/facility-detail.jpg" alt="Close-up of tank labels and environmental monitoring equipment">
            <figcaption>Environmental monitoring, labeling, and tracking for long-term experiments.</figcaption>
          </figure>
        </div>

        <!-- Text / features column -->
        <div class="facility-details card">
          <h3>Facility features</h3>
          <ul class="facility-list">
            <li>Dedicated recirculating systems for killifish and medaka lines.</li>
            <li>Controlled photoperiod, temperature, and conductivity for experimental treatments.</li>
            <li>Integrated space for embryo incubation, diapause staging, and imaging.</li>
            <li>Standardized husbandry workflows and SOPs for reproducible experiments.</li>
            <li>Capacity for long-term selection experiments and multi-generation studies.</li>
          </ul>

          <p class="facility-note">
            Prospective students and collaborators are welcome to contact us about experimental possibilities
            in the Xtremo-Devo aquatic facility.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== RESOURCES ===== -->
  <section id="resources" class="section section-alt">
    <div class="container">
      <h2>Resources</h2>
      <p class="section-intro">
        Protocols, datasets, and software from the Xtremo-Devo Lab.
      </p>

      <div class="card-grid">
        <article class="card">
          <h3>Data & code</h3>
          <p>
            Access our analysis pipelines, custom scripts, and data releases via GitHub and public
            repositories.
          </p>
          <p><a href="https://github.com/YOUR_GITHUB" target="_blank" rel="noopener">GitHub profile</a></p>
        </article>

        <article class="card">
          <h3>Protocols</h3>
          <p>
            Standard operating procedures for killifish and pearlfish husbandry, imaging, and molecular workflows.
          </p>
        </article>

        <article class="card">
          <h3>Teaching materials</h3>
          <p>
            Slides, problem sets, and datasets from courses and workshops related to bioinformatics and developmental genetics.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== JOIN ===== -->
  <section id="join" class="section">
    <div class="container">
      <h2>Join the Lab</h2>
      <p class="section-intro">
        We welcome inquiries from motivated undergraduates, graduate students, and postdocs interested in
        developmental biology, genomics, and evolution in extreme environments.
      </p>

      <div class="join-grid">
        <article class="card">
          <h3>Undergraduates</h3>
          <p>
            Undergraduates can participate in ongoing projects in fish husbandry, imaging, and data
            analysis. Prior experience is helpful but not required.
          </p>
          <p class="tagline">
            To inquire, send a CV, transcript (unofficial is fine), and a brief paragraph describing your
            interests.
          </p>
        </article>

        <article class="card">
          <h3>Graduate students</h3>
          <p>
            Prospective graduate students should apply through the relevant graduate program at our
            institution and mention their interest in joining the Xtremo-Devo Lab.
          </p>
          <p class="tagline">
            Email Drew with your CV and a short description of your research interests and experience.
          </p>
        </article>

        <article class="card">
          <h3>Postdocs</h3>
          <p>
            Prospective postdocs with interests in evo-devo, diapause, or functional genomics are
            encouraged to reach out about potential opportunities and fellowships.
          </p>
          <p class="tagline">
            Include a CV, a brief statement of research goals, and contact information for references.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer id="contact" class="site-footer">
    <div class="container footer-grid">
      <div>
        <h3>Contact</h3>
        <p><strong>Xtremo-Devo Lab • Andrew Thompson</strong></p>
        <p>Department of Biologidcal Sciences<br>Western Michigan University</p>
        <p>
          Email:
          <a href="mailto:Andrew.Thompson@wmich.edu">Andrew.Thompson@wmich.edu</a>
        </p>
      </div>

      <div>
        <h3>Links</h3>
        <ul class="footer-links">
          <li><a href="#research">Research</a></li>
          <li><a href="#people">People</a></li>
          <li><a href="#publications">Publications</a></li>
          <li><a href="https://scholar.google.com/citations?user=Fj8SQ_MAAAAJ&hl=en&oi=sra" target="_blank" rel="noopener">Google Scholar</a></li>
        </ul>
      </div>

      <div>
        <h3>Last updated</h3>
        <p>December 2025</p>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; <span id="year"></span> Xtremo-Devo Lab. All rights reserved.</p>
    </div>

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>

    <!-- BibTeX parser -->
    <script src="https://unpkg.com/bibtex-parse-js@0.0.24/bibtexParse.js"></script>

    <!-- Publications rendering (APA style) -->
    <script>
      function decodeLatex(str) {
        if (!str) return "";

        return str
          // í variants
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\\'\\i/g, "í")
          .replace(/\{\\'i\}/g, "í")
          .replace(/\\'i/g, "í")
          // é
          .replace(/\{\\'e\}/g, "é")
          .replace(/\\'e/g, "é")
          // á
          .replace(/\{\\'a\}/g, "á")
          .replace(/\\'a/g, "á")
          // ó
          .replace(/\{\\'o\}/g, "ó")
          .replace(/\\'o/g, "ó")
          // ú
          .replace(/\{\\'u\}/g, "ú")
          .replace(/\\'u/g, "ú")
          // Å
          .replace(/\{\\AA\}/g, "Å")
          // ampersand and dashes
          .replace(/\\&/g, "&")
          .replace(/--/g, "–")
          // strip remaining braces
          .replace(/[{}]/g, "");
      }

      function formatAuthorAPA(author) {
        author = author.trim();
        if (!author) return "";

        // If "Last, First Middle" form
        if (author.includes(",")) {
          const parts = author.split(",");
          const last = parts[0].trim();
          const given = (parts[1] || "").trim();
          if (!given) return last;

          const givenPieces = given.split(/\s+/).filter(Boolean);
          const initials = givenPieces.map(n => n[0].toUpperCase() + ".").join(" ");

          return `${last}, ${initials}`;
        }

        // Else assume "First Middle Last"
        const bits = author.split(/\s+/).filter(Boolean);
        if (bits.length === 1) {
          return bits[0];
        }
        const last = bits[bits.length - 1];
        const given = bits.slice(0, -1);
        const initials = given.map(n => n[0].toUpperCase() + ".").join(" ");
        return `${last}, ${initials}`;
      }

      function formatAuthorsAPA(rawAuthors) {
        if (!rawAuthors) return "";
        const decoded = decodeLatex(rawAuthors);
        const list = decoded.split(/\s+and\s+/).map(a => a.trim()).filter(Boolean);

        const formatted = list.map(formatAuthorAPA);

        // APA 7: up to 20 authors fully listed; if > 20, show first 19, …, last
        if (formatted.length > 20) {
          const first19 = formatted.slice(0, 19);
          const last = formatted[formatted.length - 1];
          const short = [...first19, "…", last];
          return short.slice(0, -1).join(", ") + ", & " + short[short.length - 1];
        }

        if (formatted.length === 1) return formatted[0];
        if (formatted.length === 2) return `${formatted[0]} & ${formatted[1]}`;

        return formatted.slice(0, -1).join(", ") + ", & " + formatted[formatted.length - 1];
      }

      function buildCitationAPA(entry) {
        const t = entry.entryTags || {};
        const year = t.year || "n.d.";
        const rawAuthors = t.author || "";
        const authorsAPA = formatAuthorsAPA(rawAuthors);

        let title = decodeLatex(t.title || "").trim();
        if (title.endsWith(".")) title = title.slice(0, -1);

        const entryType = (entry.entryType || "").toLowerCase();

        // Basic fields
        let journal = decodeLatex(t.journal || t.booktitle || "").trim();
        let publisher = decodeLatex(t.publisher || "").trim();
        const volume = t.volume ? decodeLatex(t.volume).trim() : "";
        const number = t.number ? decodeLatex(t.number).trim() : "";
        const pages = t.pages ? decodeLatex(t.pages).trim() : "";
        const school = t.school ? decodeLatex(t.school).trim() : "";

        let main = "";

        if (entryType === "phdthesis") {
          // Doctoral dissertation
          const inst = school || publisher;
          main = `${authorsAPA} (${year}). <em>${title}</em> (Doctoral dissertation). ${inst}.`;
        } else if (journal) {
          // Journal / preprint with "journal" field
          let volIssue = "";
          if (volume) {
            volIssue += `<em>${volume}</em>`;
            if (number) {
              volIssue += `(${number})`;
            }
          }
          let pagePart = pages ? `, ${pages}` : "";

          main = `${authorsAPA} (${year}). ${title}. <em>${journal}</em>`;
          if (volIssue || pagePart) {
            main += `, ${volIssue}${pagePart}`;
          }
          main += ".";
        } else if (publisher) {
          // Book-ish / report-ish
          main = `${authorsAPA} (${year}). <em>${title}</em>. ${publisher}.`;
        } else {
          // Fallback
          main = `${authorsAPA} (${year}). ${title}.`;
        }

        // Highlight YOUR name
        main = main
          .replace(/Thompson,\s*Andrew\s+W\b/g, "<strong><u>Thompson, Andrew W</u></strong>")
          .replace(/Andrew\s+W\s+Thompson\b/g, "<strong><u>Andrew W Thompson</u></strong>")
          .replace(/Thompson,\s*A\.?\s*W\.?\b/g, "<strong><u>Thompson, A. W.</u></strong>");

        return main;
      }

      async function loadBib() {
        try {
          const res = await fetch("publications.bib");
          if (!res.ok) throw new Error("publications.bib not found");

          const text = await res.text();
          const entries = bibtexParse.toJSON(text);

          // group by year (fallback "Preprints")
          const groups = {};
          entries.forEach(e => {
            const year = e.entryTags?.year || "Preprints";
            if (!groups[year]) groups[year] = [];
            groups[year].push(e);
          });

          const years = Object.keys(groups).sort(
            (a, b) => (parseInt(b) || 0) - (parseInt(a) || 0)
          );

          const container = document.getElementById("pubs");
          container.innerHTML = "";

          years.forEach(year => {
            const yearBlock = document.createElement("div");
            yearBlock.className = "pub-year-block";
            yearBlock.innerHTML = `<h3 class="pub-year-heading">${year}</h3>`;

            groups[year].forEach(e => {
              const citation = buildCitationAPA(e);
              const article = document.createElement("article");
              article.className = "pub-item";
              article.innerHTML = `<p class="pub-citation">${citation}</p>`;
              yearBlock.appendChild(article);
            });

            container.appendChild(yearBlock);
          });

        } catch (err) {
          console.error(err);
          document.getElementById("pubs").innerHTML =
            "Unable to load publications at this time.";
        }
      }

      loadBib();
    </script>
  </footer>
</body>
</html>
