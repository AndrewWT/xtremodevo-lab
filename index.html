<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Xtremo-Devo Lab | Andrew Thompson</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description"
        content="Xtremo-Devo Lab — Andrew Thompson. We study development and evolution in extreme environments, with a focus on killifish and pearlfish systems." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ===== NAVBAR ===== -->
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <span class="logo-main">Xtremo-Devo Lab</span>
        <span class="logo-sub">Andrew Thompson</span>
      </div>
      <nav class="nav">
        <a href="#hero">Home</a>
        <a href="#research">Research</a>
        <a href="#people">People</a>
        <a href="#publications">Publications</a>
        <a href="#resources">Resources</a>
        <a href="#join">Join</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ===== HERO SECTION ===== -->
  <section id="hero" class="hero">
    <div class="container hero-grid">
      <div class="hero-text">
        <h1>Development & evolution in extreme environments.</h1>
        <p class="hero-subtitle">
          We use killifish and pearlfish systems to uncover how organisms survive, develop, and evolve
          under extreme ecological challenges.
        </p>
        <div class="hero-actions">
          <a href="#research" class="btn primary">Explore our research</a>
          <a href="#join" class="btn secondary">Join the lab</a>
        </div>
      </div>
      <div class="hero-card">
        <h2>Current focus</h2>
        <ul>
          <li>Dormancy & diapause in killifish</li>
          <li>Eco-evo-devo in extreme habitats</li>
          <li>Functional genomics & single-cell RNA-seq</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ===== RESEARCH SECTION ===== -->
  <section id="research" class="section">
    <div class="container">
      <h2>Research</h2>
      <p class="section-intro">
        Our lab combines fieldwork, developmental biology, and genomics to understand how organisms adapt
        to extreme environments across life stages.
      </p>

      <div class="card-grid">
        <article class="card">
          <h3>Diapause & Developmental Arrest</h3>
          <p>
            We study how killifish embryos enter and exit diapause, a suspended state of development that
            enables survival through harsh environmental conditions.
          </p>
          <p class="tagline">Approaches: RNA-seq, single-nucleus RNA-seq, comparative genomics</p>
        </article>

        <article class="card">
          <h3>Eco-evo-devo in Annual Killifishes</h3>
          <p>
            Using annual and non-annual killifishes, we explore how environmental gradients shape
            development, life history, and phenotypic plasticity.
          </p>
        </article>

        <article class="card">
          <h3>Genomics of adaptation</h3>
          <p>
            We integrate genomics and functional assays to identify genomic regions underlying
            extreme phenotypes and life-history strategies.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== PEOPLE SECTION ===== -->
  <section id="people" class="section section-alt">
    <div class="container">
      <h2>People</h2>
      <p class="section-intro">
        We are a collaborative group of students and researchers with interests spanning developmental
        biology, genomics, ecology, and evolution.
      </p>

      <div class="card-grid people-grid">
        <!-- PI card -->
        <article class="card person-card">
          <h3>Andrew Thompson, Ph.D.</h3>
          <p class="person-role">Principal Investigator</p>
          <p>
            Drew is the PI of the Xtremo-Devo Lab, focusing on how development evolves in response to extreme
            environments, with the killifish model system.
          </p>
          <p class="person-contact">
            <a href="mailto:Andrew.Thompson@wmich.edu">Andrew.Thompson@wmich.edu</a>
          </p>
        </article>

        <!-- Example trainee card -->
        <article class="card person-card">
          <h3>Lab Member Name</h3>
          <p class="person-role">Graduate Student</p>
          <p>
            Interests include developmental genetics, single-cell analysis, and the evolution of stress
            tolerance in killifish.
          </p>
        </article>

        <article class="card person-card">
          <h3>Lab Member Name</h3>
          <p class="person-role">Undergraduate Researcher</p>
          <p>
            Assists with fish husbandry, imaging, and data collection for diapause and pearlfish projects.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== PUBLICATIONS SECTION ===== -->
  <section id="publications" class="section">
    <div class="container">
      <h2>Publications</h2>
      <p class="section-intro">
        A selection of recent work. For a full list, see CV or Google Scholar.
      </p>

      <div class="pub-list" id="pubs">
        Loading publications…
      </div>
    </div>
  </section>

  <!-- ===== RESOURCES SECTION ===== -->
  <section id="resources" class="section section-alt">
    <div class="container">
      <h2>Resources</h2>
      <p class="section-intro">
        Protocols, datasets, and software from the Xtremo-Devo Lab.
      </p>

      <div class="card-grid">
        <article class="card">
          <h3>Data & code</h3>
          <p>
            Access our analysis pipelines, custom scripts, and data releases via GitHub and public
            repositories.
          </p>
          <p><a href="https://github.com/YOUR_GITHUB" target="_blank" rel="noopener">GitHub profile</a></p>
        </article>

        <article class="card">
          <h3>Protocols</h3>
          <p>
            Standard operating procedures for killifish and pearlfish husbandry, imaging, and molecular
            workflows.
          </p>
        </article>

        <article class="card">
          <h3>Teaching materials</h3>
          <p>
            Slides, problem sets, and datasets from courses and workshops related to bioinformatics and
            developmental genetics.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== JOIN SECTION ===== -->
  <section id="join" class="section">
    <div class="container">
      <h2>Join the Lab</h2>
      <p class="section-intro">
        We welcome inquiries from motivated undergraduates, graduate students, and postdocs interested in
        developmental biology, genomics, and evolution in extreme environments.
      </p>

      <div class="join-grid">
        <article class="card">
          <h3>Undergraduates</h3>
          <p>
            Undergraduates can participate in ongoing projects in fish husbandry, imaging, and data
            analysis. Prior experience is helpful but not required.
          </p>
          <p class="tagline">
            To inquire, send a CV, transcript (unofficial is fine), and a brief paragraph describing your
            interests.
          </p>
        </article>

        <article class="card">
          <h3>Graduate students</h3>
          <p>
            Prospective graduate students should apply through the relevant graduate program at our
            institution and mention their interest in joining the Xtremo-Devo Lab.
          </p>
          <p class="tagline">
            Email Drew with your CV and a short description of your research interests and experience.
          </p>
        </article>

        <article class="card">
          <h3>Postdocs</h3>
          <p>
            Prospective postdocs with interests in evo-devo, diapause, or functional genomics are
            encouraged to reach out about potential opportunities and fellowships.
          </p>
          <p class="tagline">
            Include a CV, a brief statement of research goals, and contact information for references.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== CONTACT / FOOTER ===== -->
  <footer id="contact" class="site-footer">
    <div class="container footer-grid">
      <div>
        <h3>Contact</h3>
        <p><strong>Xtremo-Devo Lab • Andrew Thompson</strong></p>
        <p>Department of [Your Department]<br>[Your University]</p>
        <p>
          Email:
          <a href="mailto:YOUR_EMAIL@youruniversity.edu">YOUR_EMAIL@youruniversity.edu</a>
        </p>
      </div>
      <div>
        <h3>Links</h3>
        <ul class="footer-links">
          <li><a href="#research">Research</a></li>
          <li><a href="#people">People</a></li>
          <li><a href="#publications">Publications</a></li>
          <li><a href="https://scholar.google.com" target="_blank" rel="noopener">Google Scholar</a></li>
        </ul>
      </div>
      <div>
        <h3>Last updated</h3>
        <p>December 2025</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; <span id="year"></span> Xtremo-Devo Lab. All rights reserved.</p>
    </div>

    <!-- Auto year -->
    <script>
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>

    <!-- BibTeX Parser -->
    <script src="https://unpkg.com/bibtex-parse-js@0.0.24/bibtexParse.js"></script>

    <!-- Render publications: decode LaTeX accents + group by year -->
    <script>
      function decodeLatex(str) {
        if (!str) return "";
        return str
          // common accent patterns from your BibTeX
          .replace(/\{\\'i\}/g, "í")
          .replace(/\{\\'I\}/g, "Í")
          .replace(/\{\\'e\}/g, "é")
          .replace(/\{\\'E\}/g, "É")
          .replace(/\{\\'a\}/g, "á")
          .replace(/\{\\'A\}/g, "Á")
          .replace(/\{\\'o\}/g, "ó")
          .replace(/\{\\'O\}/g, "Ó")
          .replace(/\{\\'u\}/g, "ú")
          .replace(/\{\\'U\}/g, "Ú")
          .replace(/\{\\'c\}/g, "ć")
          .replace(/\{\\'C\}/g, "Ć")
          .replace(/\{\\'\\i\}/g, "í") // sometimes i is written as \i
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\\i\}/g, "í")
          .replace(/\{\\'\\\i\}/g, "í")
          .replace(/\{\\'\\\i\}/g, "í")
          .replace(/\{\\'\\\i\}/g, "í")
          .replace(/\{\\'\\\i\}/g, "í")
          .replace(/\{\\'\\\i\}/g, "í")
          // specific names from your list
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'o\}/g, "ó")
          .replace(/\{\\'u\}/g, "ú")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          // more general cleanup
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\{\\'\\i\}/g, "í")
          // specific braces like {\AA}
          .replace(/\{\\AA\}/g, "Å")
          .replace(/\{\\aa\}/g, "å")
          // ampersand + dashes
          .replace(/\\&/g, "&")
          .replace(/--/g, "–")
          // remove leftover braces
          .replace(/[{}]/g, "");
      }

      async function loadBib() {
        try {
          const res = await fetch("publications.bib");
          if (!res.ok) throw new Error("publications.bib not found");

          const bibText = await res.text();
          const entries = bibtexParse.toJSON(bibText);

          // group by year
          const groups = {};
          entries.forEach(e => {
            const t = e.entryTags || {};
            const year = t.year || "Other";
            if (!groups[year]) groups[year] = [];
            groups[year].push(e);
          });

          // sort years descending (numeric years first)
          const years = Object.keys(groups).sort((a, b) => {
            const ya = parseInt(a) || 0;
            const yb = parseInt(b) || 0;
            return yb - ya;
          });

          const container = document.getElementById("pubs");
          container.innerHTML = "";

          years.forEach(year => {
            const yearEntries = groups[year];

            // year heading
            const yearBlock = document.createElement("div");
            yearBlock.className = "pub-year-block";
            yearBlock.innerHTML = `<h3 class="pub-year-heading">${year}</h3>`;
            
            yearEntries.forEach(e => {
              const t = e.entryTags || {};
              let authors = decodeLatex(t.author || "");
              let title = decodeLatex(t.title || "");
              let journal = decodeLatex(t.journal || t.booktitle || "");
              let publisher = decodeLatex(t.publisher || "");

              const volume = t.volume ? ` ${decodeLatex(t.volume)}` : "";
              const number = t.number ? `(${decodeLatex(t.number)})` : "";
              const pages = t.pages ? `, ${decodeLatex(t.pages)}` : "";

              // bold your name
              authors = authors
                .replace(/Andrew W\. Thompson/g, "<strong>Andrew W. Thompson</strong>")
                .replace(/Thompson, Andrew W\./g, "<strong>Thompson, Andrew W.</strong>")
                .replace(/Thompson, A\. W\./g, "<strong>Thompson, A. W.</strong>");

              const doi = t.doi || "";
              const url = t.url || "";
              let linkHTML = "";
              if (doi) {
                const doiURL = doi.startsWith("http") ? doi : `https://doi.org/${doi}`;
                linkHTML = ` <a href="${doiURL}" target="_blank" rel="noopener">DOI</a>`;
              } else if (url) {
                linkHTML = ` <a href="${url}" target="_blank" rel="noopener">Link</a>`;
              }

              const citationParts = [];
              if (authors) citationParts.push(`${authors}.`);
              if (year && year !== "Other") citationParts.push(`(${year}).`);
              if (title) citationParts.push(`${title}.`);

              let venue = "";
              if (journal) venue = `<em>${journal}</em>`;
              else if (publisher) venue = publisher;

              const trailing = `${venue}${volume}${number}${pages}`;

              const article = document.createElement("article");
              article.className = "pub-item";
              article.innerHTML = `
                <p class="pub-citation">
                  ${citationParts.join(" ")}
                  ${trailing}
                  ${linkHTML}
                </p>
              `;

              yearBlock.appendChild(article);
            });

            container.appendChild(yearBlock);
          });

        } catch (err) {
          document.getElementById("pubs").innerHTML = "Unable to load publications at this time.";
          console.error(err);
        }
      }

      loadBib();
    </script>
  </footer>
</body>
</html>
