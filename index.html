<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Xtremo-Devo Lab | Andrew Thompson</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description"
        content="Xtremo-Devo Lab — Andrew (Drew) Thompson. We study development and evolution in extreme environments, with a focus on killifishes." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ===== NAVBAR ===== -->
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <span class="logo-main">Xtremo-Devo Lab</span>
        <span class="logo-sub">Andrew Thompson</span>
      </div>
      <nav class="nav">
        <a href="#hero">Home</a>
        <a href="#research">Research</a>
        <a href="#people">People</a>
        <a href="#publications">Publications</a>
        <a href="#resources">Resources</a>
        <a href="#join">Join</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ===== HERO SECTION ===== -->
  <section id="hero" class="hero">
    <div class="container hero-grid">
      <div class="hero-text">
        <h1>Development & evolution in extreme environments.</h1>
        <p class="hero-subtitle">
          We use killifishes to uncover how organisms survive, develop, and evolve
          under extreme ecological challenges.
        </p>
        <div class="hero-actions">
          <a href="#research" class="btn primary">Explore our research</a>
          <a href="#join" class="btn secondary">Join the lab</a>
        </div>
      </div>
      <div class="hero-card">
        <h2>Current focus</h2>
        <ul>
          <li>Dormancy & diapause in killifish</li>
          <li>Eco-evo-devo in extreme habitats</li>
          <li>Functional genomics & single-cell RNA-seq</li>
        </ul>
      </div>
    </div>
  </section>

    <!-- ===== RESEARCH ===== -->
  <section id="research" class="section">
    <div class="container">
     <h2>Research</h2>
<p class="section-intro">
  We study how development and evolution interact in extreme environments, with a primary focus on
  tropical killifishes and other “ancient” fishes. Our work integrates developmental biology,
  functional genetics, and genomics to understand how organisms survive, adapt, and evolve across
  challenging life stages.
</p>

<p class="section-intro">
  Within an Eco-Evo-Devo framework, we use molecular phylogenetics, models of molecular evolution,
  comparative genomics, and functional genomic tools to investigate the genetic basis of
  developmental adaptations. The central goals of the Xtremo-Devo Lab are to explore:
</p>

<h3>Core questions</h3>
<ul>
  <li>
    <strong>
      How do deeply homologous genetic and developmental processes shape the evolvability of
      complex and convergent phenotypes in response to extreme environmental change?
    </strong>
  </li>
  <li>
    <strong>
      How do gene duplicates and gene regulatory networks evolve to generate developmental
      plasticity and resilience to disruptions in “normal” physiology and development?
    </strong>
  </li>
</ul>


      <!-- Research themes cards -->
      <h3 class="research-subheading">Research themes</h3>
      <div class="card-grid">
        <article class="card">
          <h3>Diapause & developmental arrest</h3>
          <p>
            We study how killifish embryos enter and exit diapause, a suspended state of development that
            enables survival through seasonal drought and other harsh conditions.
          </p>
          <p class="tagline">
            Approaches: RNA-seq, single-nucleus RNA-seq, comparative genomics
          </p>
        </article>

        <article class="card">
          <h3>Eco-evo-devo in annual killifishes</h3>
          <p>
            Using annual and non-annual killifishes, we test how environmental gradients shape
            development, life history evolution, and phenotypic plasticity.
          </p>
        </article>

        <article class="card">
          <h3>Genomics of adaptation</h3>
          <p>
            We integrate phylogenomics, models of molecular evolution, and functional assays to identify
            genomic changes underlying extreme phenotypes and life-history strategies.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== PEOPLE ===== -->
  <section id="people" class="section section-alt">
    <div class="container">
      <h2>People</h2>
      <p class="section-intro">
        We are a collaborative group of students and researchers with interests spanning developmental
        biology, genomics, ecology, and evolution.
      </p>

      <div class="card-grid people-grid">
        <article class="card person-card">
          <h3>Andrew W. Thompson, Ph.D.</h3>
          <p class="person-role">Principal Investigator</p>
          <p>
            Drew is the PI of the Xtremo-Devo Lab, focusing on how development evolves in response to extreme
            environments, with the killifish model system.
          </p>
          <p class="person-contact">
            <a href="mailto:Andrew.Thompson@wmich.edu">Andrew.Thompson@wmich.edu</a>
          </p>
        </article>

        <article class="card person-card">
          <h3>Lab Member Name</h3>
          <p class="person-role">Graduate Student</p>
          <p>
            Interests include developmental genetics, single-cell analysis, and the evolution of stress
            tolerance in killifish.
          </p>
        </article>

        <article class="card person-card">
          <h3>Lab Member Name</h3>
          <p class="person-role">Undergraduate Researcher</p>
          <p>
            Assists with fish husbandry, imaging, and data collection for diapause and pearlfish projects.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== PUBLICATIONS ===== -->
  <section id="publications" class="section">
    <div class="container">
      <h2>Publications</h2>
      <p class="section-intro">
        A selection of recent work. For a full list, see CV or Google Scholar.
      </p>

      <div class="pub-list" id="pubs">
        Loading publications…
      </div>
    </div>
  </section>

  <!-- ===== RESOURCES ===== -->
  <section id="resources" class="section section-alt">
    <div class="container">
      <h2>Resources</h2>
      <p class="section-intro">
        Protocols, datasets, and software from the Xtremo-Devo Lab.
      </p>

      <div class="card-grid">
        <article class="card">
          <h3>Data & code</h3>
          <p>
            Access our analysis pipelines, custom scripts, and data releases via GitHub and public
            repositories.
          </p>
          <p><a href="https://github.com/YOUR_GITHUB" target="_blank" rel="noopener">GitHub profile</a></p>
        </article>

        <article class="card">
          <h3>Protocols</h3>
          <p>
            Standard operating procedures for killifish and pearlfish husbandry, imaging, and molecular workflows.
          </p>
        </article>

        <article class="card">
          <h3>Teaching materials</h3>
          <p>
            Slides, problem sets, and datasets from courses and workshops related to bioinformatics and developmental genetics.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== JOIN ===== -->
  <section id="join" class="section">
    <div class="container">
      <h2>Join the Lab</h2>
      <p class="section-intro">
        We welcome inquiries from motivated undergraduates, graduate students, and postdocs interested in
        developmental biology, genomics, and evolution in extreme environments.
      </p>

      <div class="join-grid">
        <article class="card">
          <h3>Undergraduates</h3>
          <p>
            Undergraduates can participate in ongoing projects in fish husbandry, imaging, and data
            analysis. Prior experience is helpful but not required.
          </p>
          <p class="tagline">
            To inquire, send a CV, transcript (unofficial is fine), and a brief paragraph describing your
            interests.
          </p>
        </article>

        <article class="card">
          <h3>Graduate students</h3>
          <p>
            Prospective graduate students should apply through the relevant graduate program at our
            institution and mention their interest in joining the Xtremo-Devo Lab.
          </p>
          <p class="tagline">
            Email Drew with your CV and a short description of your research interests and experience.
          </p>
        </article>

        <article class="card">
          <h3>Postdocs</h3>
          <p>
            Prospective postdocs with interests in evo-devo, diapause, or functional genomics are
            encouraged to reach out about potential opportunities and fellowships.
          </p>
          <p class="tagline">
            Include a CV, a brief statement of research goals, and contact information for references.
          </p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer id="contact" class="site-footer">
    <div class="container footer-grid">
      <div>
        <h3>Contact</h3>
        <p><strong>Xtremo-Devo Lab • Andrew Thompson</strong></p>
        <p>Department of Biologidcal Sciences<br>Western Michigan University</p>
        <p>
          Email:
          <a href="mailto:Andrew.Thompson@wmich.edu">Andrew.Thompson@wmich.edu</a>
        </p>
      </div>

      <div>
        <h3>Links</h3>
        <ul class="footer-links">
          <li><a href="#research">Research</a></li>
          <li><a href="#people">People</a></li>
          <li><a href="#publications">Publications</a></li>
          <li><a href="https://scholar.google.com/citations?user=Fj8SQ_MAAAAJ&hl=en&oi=sra" target="_blank" rel="noopener">Google Scholar</a></li>
        </ul>
      </div>

      <div>
        <h3>Last updated</h3>
        <p>December 2025</p>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; <span id="year"></span> Xtremo-Devo Lab. All rights reserved.</p>
    </div>

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>

    <!-- BibTeX parser -->
    <script src="https://unpkg.com/bibtex-parse-js@0.0.24/bibtexParse.js"></script>

    <!-- Publications rendering (APA style) -->
    <script>
      function decodeLatex(str) {
        if (!str) return "";

        return str
          // í variants
          .replace(/\{\\'\\i\}/g, "í")
          .replace(/\\'\\i/g, "í")
          .replace(/\{\\'i\}/g, "í")
          .replace(/\\'i/g, "í")
          // é
          .replace(/\{\\'e\}/g, "é")
          .replace(/\\'e/g, "é")
          // á
          .replace(/\{\\'a\}/g, "á")
          .replace(/\\'a/g, "á")
          // ó
          .replace(/\{\\'o\}/g, "ó")
          .replace(/\\'o/g, "ó")
          // ú
          .replace(/\{\\'u\}/g, "ú")
          .replace(/\\'u/g, "ú")
          // Å
          .replace(/\{\\AA\}/g, "Å")
          // ampersand and dashes
          .replace(/\\&/g, "&")
          .replace(/--/g, "–")
          // strip remaining braces
          .replace(/[{}]/g, "");
      }

      function formatAuthorAPA(author) {
        author = author.trim();
        if (!author) return "";

        // If "Last, First Middle" form
        if (author.includes(",")) {
          const parts = author.split(",");
          const last = parts[0].trim();
          const given = (parts[1] || "").trim();
          if (!given) return last;

          const givenPieces = given.split(/\s+/).filter(Boolean);
          const initials = givenPieces.map(n => n[0].toUpperCase() + ".").join(" ");

          return `${last}, ${initials}`;
        }

        // Else assume "First Middle Last"
        const bits = author.split(/\s+/).filter(Boolean);
        if (bits.length === 1) {
          return bits[0];
        }
        const last = bits[bits.length - 1];
        const given = bits.slice(0, -1);
        const initials = given.map(n => n[0].toUpperCase() + ".").join(" ");
        return `${last}, ${initials}`;
      }

      function formatAuthorsAPA(rawAuthors) {
        if (!rawAuthors) return "";
        const decoded = decodeLatex(rawAuthors);
        const list = decoded.split(/\s+and\s+/).map(a => a.trim()).filter(Boolean);

        const formatted = list.map(formatAuthorAPA);

        // APA 7: up to 20 authors fully listed; if > 20, show first 19, …, last
        if (formatted.length > 20) {
          const first19 = formatted.slice(0, 19);
          const last = formatted[formatted.length - 1];
          const short = [...first19, "…", last];
          return short.slice(0, -1).join(", ") + ", & " + short[short.length - 1];
        }

        if (formatted.length === 1) return formatted[0];
        if (formatted.length === 2) return `${formatted[0]} & ${formatted[1]}`;

        return formatted.slice(0, -1).join(", ") + ", & " + formatted[formatted.length - 1];
      }

      function buildCitationAPA(entry) {
        const t = entry.entryTags || {};
        const year = t.year || "n.d.";
        const rawAuthors = t.author || "";
        const authorsAPA = formatAuthorsAPA(rawAuthors);

        let title = decodeLatex(t.title || "").trim();
        if (title.endsWith(".")) title = title.slice(0, -1);

        const entryType = (entry.entryType || "").toLowerCase();

        // Basic fields
        let journal = decodeLatex(t.journal || t.booktitle || "").trim();
        let publisher = decodeLatex(t.publisher || "").trim();
        const volume = t.volume ? decodeLatex(t.volume).trim() : "";
        const number = t.number ? decodeLatex(t.number).trim() : "";
        const pages = t.pages ? decodeLatex(t.pages).trim() : "";
        const school = t.school ? decodeLatex(t.school).trim() : "";

        let main = "";

        if (entryType === "phdthesis") {
          // Doctoral dissertation
          const inst = school || publisher;
          main = `${authorsAPA} (${year}). <em>${title}</em> (Doctoral dissertation). ${inst}.`;
        } else if (journal) {
          // Journal / preprint with "journal" field
          let volIssue = "";
          if (volume) {
            volIssue += `<em>${volume}</em>`;
            if (number) {
              volIssue += `(${number})`;
            }
          }
          let pagePart = pages ? `, ${pages}` : "";

          main = `${authorsAPA} (${year}). ${title}. <em>${journal}</em>`;
          if (volIssue || pagePart) {
            main += `, ${volIssue}${pagePart}`;
          }
          main += ".";
        } else if (publisher) {
          // Book-ish / report-ish
          main = `${authorsAPA} (${year}). <em>${title}</em>. ${publisher}.`;
        } else {
          // Fallback
          main = `${authorsAPA} (${year}). ${title}.`;
        }

        // Highlight YOUR name
        main = main
          .replace(/Thompson,\s*Andrew\s+W\b/g, "<strong><u>Thompson, Andrew W</u></strong>")
          .replace(/Andrew\s+W\s+Thompson\b/g, "<strong><u>Andrew W Thompson</u></strong>")
          .replace(/Thompson,\s*A\.?\s*W\.?\b/g, "<strong><u>Thompson, A. W.</u></strong>");

        return main;
      }

      async function loadBib() {
        try {
          const res = await fetch("publications.bib");
          if (!res.ok) throw new Error("publications.bib not found");

          const text = await res.text();
          const entries = bibtexParse.toJSON(text);

          // group by year (fallback "Preprints")
          const groups = {};
          entries.forEach(e => {
            const year = e.entryTags?.year || "Preprints";
            if (!groups[year]) groups[year] = [];
            groups[year].push(e);
          });

          const years = Object.keys(groups).sort(
            (a, b) => (parseInt(b) || 0) - (parseInt(a) || 0)
          );

          const container = document.getElementById("pubs");
          container.innerHTML = "";

          years.forEach(year => {
            const yearBlock = document.createElement("div");
            yearBlock.className = "pub-year-block";
            yearBlock.innerHTML = `<h3 class="pub-year-heading">${year}</h3>`;

            groups[year].forEach(e => {
              const citation = buildCitationAPA(e);
              const article = document.createElement("article");
              article.className = "pub-item";
              article.innerHTML = `<p class="pub-citation">${citation}</p>`;
              yearBlock.appendChild(article);
            });

            container.appendChild(yearBlock);
          });

        } catch (err) {
          console.error(err);
          document.getElementById("pubs").innerHTML =
            "Unable to load publications at this time.";
        }
      }

      loadBib();
    </script>
  </footer>
</body>
</html>
